<!DOCTYPE html>
<html lang="en">
  <head>
  	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  	<title>Recorder Example</title>
        <!-- Loading Bootstrap -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.css" rel="stylesheet">

    <style>

      #record, #play, #stop{
        padding: 40px 40px 40px 40px; width: 20%; 
      }
    </style>
  </head>
  <body>      
    <script type="text/javascript" src="../recorder.js"></script>
    <script type="text/javascript" src="../one.js"></script>
    <script>
      function timecode(ms) {
        var hms = {
          h: Math.floor(ms/(60*60*1000)),
          m: Math.floor((ms/60000) % 60),
          s: Math.floor((ms/1000) % 60)
        };
        var tc = []; // Timecode array to be joined with '.'

        if (hms.h > 0) {
          tc.push(hms.h);
        }

        tc.push((hms.m < 10 && hms.h > 0 ? "0" + hms.m : hms.m));
        tc.push((hms.s < 10  ? "0" + hms.s : hms.s));

        return tc.join(':');
      }
      
    
      Recorder.initialize({
        swfSrc: "../recorder.swf"
      });

      one.initialize({
        swfSrc: "../one.swf"
      });

      //FOR RECORDER
      function record(){
        Recorder.record({
          start: function(){
            //alert("recording starts now. press stop when youre done. and then play or upload if you want.");
          },
          progress: function(milliseconds){
            document.getElementById("time").innerHTML = timecode(milliseconds);
          }
        });
      }
      
      function play(){
        Recorder.stop();
        Recorder.play({
          progress: function(milliseconds){
            document.getElementById("time").innerHTML = timecode(milliseconds);
          }
        });
      }
      
      function stop(){
        Recorder.stop();
      }
      
      function upload(){
        Recorder.upload({
          url:        "https://example.com/upload",
          audioParam: "your_file",
          success: function(){
            alert("your file was uploaded!");
          }
        });
      }

      //FOR ONE
      function recordone(){
        one.record({
          start: function(){
            //alert("recording starts now. press stop when youre done. and then play or upload if you want.");
          },
          progress: function(milliseconds){
            document.getElementById("time").innerHTML = timecode(milliseconds);
          }
        });
      }
      
      function playone(){
        one.stop();
        one.play({
          progress: function(milliseconds){
            document.getElementById("time").innerHTML = timecode(milliseconds);
          }
        });
      }
      
      function stopone(){
        one.stop();
      }
      
      function uploadone(){
        one.upload({
          url:        "https://example.com/upload",
          audioParam: "your_file",
          success: function(){
            alert("your file was uploaded!");
          }
        });
      }

      //end

  </script>
    <div class="container">
      <h1>Recorder Example</h1>
    </br>
  </br>
        <div>
          <a href="#fakelink" class="btn btn-block btn-lg btn-sample1" style="padding: 40px 40px 40px 40px; width: 20%; display:inline;" onmousedown="javascript:recordone()" onmouseup="javascript:stopgfv">Sample 1</a>
        <a href="#" class="btn btn-block btn-lg btn-sample2" style="padding: 40px 40px 40px 40px; width: 20%; display:inline;">Sample 2</a>
        <a href="javascript:record()" class="btn btn-block btn-lg btn-sample3" style="padding: 40px 40px 40px 40px; width: 20%; display:inline;">Sample 3</a>
        <a href="javascript:record()" class="btn btn-block btn-lg btn-sample4" style="padding: 40px 40px 40px 40px; width: 20%; display:inline;">Sample 4</a>
        <a href="javascript:record()" class="btn btn-block btn-lg btn-sample5" style="padding: 40px 40px 40px 40px; width: 20%; display:inline;">Sample 5</a>
        <a href="javascript:record()" class="btn btn-block btn-lg btn-inverse" style="padding: 40px 40px 40px 40px; width: 20%; display:inline;">Sample 6</a>
          <a href="#"  id="record" class="btn btn-block btn-lg btn-info" style="margin-top: 50px" onmousedown="javascript:record()" onmouseup="javascript:stop()">Record</a>
          <a href="javascript:play()"    id="play" class="btn btn-block btn-lg btn-success">Play</a> 
          <a href="javascript:stop()"     id="stop" class="btn btn-block btn-lg btn-success">Stop</a>
          <a href="javascript:upload()"  id="upload" >Upload (faked)</a>
        </div>
        
        <span id="time">0:00</span>
    </div>
  </body>
</html>
